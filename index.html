<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAM WEAVER</title>
    <link rel="stylesheet" type="text/css" href="style/style.css">
</head>
<body>
    <div id="header">
        <div id="logo">
            <div id="logo_text">
                <h1>SAM WEAVER</h1>
                <div id="boot">
                    NoWareOS [Version 88614] ðŸ•¸ðŸ•Š
                    <br>
                    (c) 20dX NoWare(tm). All Rights Reserved.
                </div>
                <img src="images/webnever.png" id="header_image">
            </div>
        </div>
    </div>

    <div class="menubar">
        <div><a href="/index" style="color: #00ff00">>gallery</a></div>
        <div><a href="/ai">ai</a></div>
        <div><a href="/mixes">mixes</a></div>
        <div><a href="/armour">armour</a></div>
        <div><a href="/lovenotesdeaththreats"><img src="images/OE2000.png" width="60px" style="margin-top: -15px;"></a></div>
    </div>

    <div class="gallery-grid">
        <!-- Gallery items will be inserted here by JavaScript -->
    </div>

    <div class="lightbox">
        <img src="" alt="">
        <video controls style="display: none;"></video>
    </div>

    <script>
        const media = [
            { type: 'image', path: 'gallery/dns%20crypt.png' },
            { type: 'image', path: 'gallery/dosgoth.png' },
            { type: 'image', path: 'gallery/death.png' },
            { type: 'image', path: 'gallery/windows%20deathp.png' },
            { type: 'image', path: 'gallery/awc%20contrast.png' },
            { type: 'image', path: 'gallery/lucifer.png' },
            { type: 'image', path: 'gallery/windowsill.JPG' },
            { type: 'image', path: 'gallery/mirror.JPG' },
            { type: 'image', path: 'gallery/unknown.png' },
            { type: 'image', path: 'gallery/ring.JPG' },
            { type: 'image', path: 'gallery/heart.png' },
            { type: 'image', path: 'gallery/lsd.JPG' },
            { type: 'image', path: 'gallery/wnvrgloves.jpg' },
            { type: 'image', path: 'gallery/chains.png' },
            { type: 'image', path: 'gallery/btsh.png' },
            { type: 'image', path: 'gallery/weeed.png' },
            { type: 'image', path: 'gallery/lotus.gif' },
            { type: 'image', path: 'gallery/free%20dragon.JPG' },
            { type: 'image', path: 'gallery/nexus.png' },
            { type: 'image', path: 'gallery/awn.png' },
            { type: 'image', path: 'gallery/chest.JPG' },
            { type: 'image', path: 'gallery/connection.png' },
            { type: 'image', path: 'gallery/magic%20eye.png' },
            { type: 'image', path: 'gallery/never.jpg' },
            { type: 'image', path: 'gallery/stars.JPG' },
            { type: 'image', path: 'gallery/xoraphylcrescent.png' },
            { type: 'image', path: 'gallery/dna.png' },
            { type: 'image', path: 'gallery/mix3.png' },
            { type: 'image', path: 'gallery/blades.PNG' },
            { type: 'image', path: 'gallery/false%20thought%20dragon.png' },
            { type: 'image', path: 'gallery/matrix.JPG' },
            { type: 'image', path: 'gallery/meshhhh.png' },
            { type: 'image', path: 'gallery/netweb.png' },
            { type: 'image', path: 'gallery/time.png' },
            { type: 'image', path: 'gallery/lotus-transformed.png' },
            { type: 'image', path: 'gallery/techtriprip.png' },
            { type: 'image', path: 'gallery/web%20flower.png' },
            { type: 'image', path: 'gallery/sadblue.png' },
            { type: 'image', path: 'gallery/feminine%20LSD.png' },
            { type: 'image', path: 'gallery/skeletons.PNG' },
            { type: 'image', path: 'gallery/skeletons2.PNG' },
            { type: 'image', path: 'gallery/arte%20moderna.png' },
            { type: 'image', path: 'gallery/apple%20pay.JPG' },
            { type: 'image', path: 'gallery/marblemoney.png' },
            { type: 'image', path: 'gallery/finaloutput3.gif' },
            { type: 'image', path: 'gallery/modern%20art.PNG' },
            { type: 'image', path: 'gallery/iphone%20prairie.png' },
            { type: 'image', path: 'gallery/nike%20angel.png' },
            { type: 'image', path: 'gallery/kali.png' },
            { type: 'image', path: 'gallery/clipart%20baphomet.JPG' },
            { type: 'image', path: 'gallery/allegory.png' },
            { type: 'image', path: 'gallery/paladin.png' },
            { type: 'image', path: 'gallery/jesusprimitave.png' },
            { type: 'image', path: 'gallery/got%20blood.png' },
            { type: 'image', path: 'gallery/trashmech.png' },
            { type: 'image', path: 'gallery/sundance.png' },
            { type: 'image', path: 'gallery/charge.JPG' },
            { type: 'image', path: 'gallery/jackal.png' },
            { type: 'image', path: 'gallery/ships%20without%20meaning.png' },
            { type: 'image', path: 'gallery/ships.png' },
            { type: 'image', path: 'gallery/mdma.JPG' },
            { type: 'image', path: 'gallery/bondage2.png' },
            { type: 'image', path: 'gallery/fish.png' },
            { type: 'video', path: 'gallery/blackflag.mp4' },
            { type: 'image', path: 'gallery/salvation2.png' },
            { type: 'image', path: 'gallery/lotus2.png' },
            { type: 'image', path: 'gallery/grave.png' },
            { type: 'image', path: 'gallery/pentagram.png' }
        ];

        const galleryGrid = document.querySelector('.gallery-grid');
        const lightbox = document.querySelector('.lightbox');
        const lightboxImg = lightbox.querySelector('img');
        const lightboxVideo = lightbox.querySelector('video');
        
        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const mediaElement = entry.target.querySelector('img, video');
                    if (mediaElement.dataset.src) {
                        mediaElement.src = mediaElement.dataset.src;
                        mediaElement.onload = () => mediaElement.classList.add('loaded');
                        delete mediaElement.dataset.src;
                    }
                    observer.unobserve(entry.target);
                }
            });
        }, {
            rootMargin: '50px 0px',
            threshold: 0.1
        });

        media.forEach(mediaItem => {
            const item = document.createElement('div');
            item.className = 'gallery-item';
            
            let mediaElement;
            if (mediaItem.type === 'image') {
                mediaElement = document.createElement('img');
            } else if (mediaItem.type === 'video') {
                mediaElement = document.createElement('video');
                mediaElement.controls = true;
            }
            
            mediaElement.dataset.src = mediaItem.path;
            mediaElement.alt = mediaItem.path.split('/').pop().split('.')[0].replace(/%20/g, ' ');
            mediaElement.loading = 'lazy';
            
            mediaElement.addEventListener('click', () => {
                if (mediaItem.type === 'image') {
                    lightboxImg.src = mediaItem.path;
                    lightboxImg.alt = mediaElement.alt;
                    lightboxImg.style.display = 'block';
                    lightboxVideo.style.display = 'none';
                } else if (mediaItem.type === 'video') {
                    lightboxVideo.src = mediaItem.path;
                    lightboxVideo.style.display = 'block';
                    lightboxImg.style.display = 'none';
                }
                lightbox.style.display = 'block';
            });
            
            item.appendChild(mediaElement);
            galleryGrid.appendChild(item);
            observer.observe(item);
        });

        // Close lightbox when clicking outside the media
        lightbox.addEventListener('click', (e) => {
            if (e.target === lightbox) {
                lightbox.style.display = 'none';
                lightboxVideo.pause();
            }
        });

        // Close lightbox with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && lightbox.style.display === 'block') {
                lightbox.style.display = 'none';
                lightboxVideo.pause();
            }
        });
    </script>
</body>
</html>